<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>VibedQA Test Site</title>
  <style>
    body { font-family: sans-serif; margin: 40px; background: #fff; color: #333; }
    h1 { color: #7c3aed; }
    .card { border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin: 16px 0; }
    button { background: #7c3aed; color: white; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; margin: 4px; }
    button:hover { background: #6d28d9; }
    .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 100; }
    .modal { background: white; padding: 30px; border-radius: 12px; max-width: 400px; margin: 100px auto; }
    .modal h2 { margin-bottom: 16px; }
    #counter { font-size: 2rem; font-weight: bold; color: #7c3aed; }
    .hidden { display: none; }
    input, textarea { padding: 8px; border: 1px solid #ddd; border-radius: 4px; margin: 4px; width: 200px; }
    nav a { margin-right: 16px; color: #7c3aed; }
    .error-text { color: red; font-size: 0.8rem; }
    /* Intentional bug: overlapping text */
    .overlap-bug { position: relative; }
    .overlap-bug .badge { position: absolute; top: -5px; right: -10px; background: red; color: white; padding: 2px 6px; border-radius: 10px; font-size: 0.7rem; }
    /* Intentional bug: low contrast in dark section */
    .dark-section { background: #1a1a2e; color: #2a2a3e; padding: 20px; border-radius: 8px; margin: 16px 0; }
    /* Intentional bug: hardcoded Korean in English UI */
    .i18n-bug { color: #888; font-size: 0.85rem; }
  </style>
</head>
<body>
  <nav>
    <a href="/page2.html">Page 2</a>
    <a href="/page3.html">Page 3</a>
    <a href="https://external.com">External</a>
  </nav>

  <h1>VibedQA Test Site</h1>
  <p>This is a test page for the VibedQA autonomous QA bot.</p>

  <!-- Counter interaction -->
  <div class="card">
    <h2>Counter Test</h2>
    <p>Count: <span id="counter">0</span></p>
    <button onclick="document.getElementById('counter').textContent = parseInt(document.getElementById('counter').textContent) + 1">
      Increment
    </button>
    <button onclick="document.getElementById('counter').textContent = 0">
      Reset
    </button>
  </div>

  <!-- Modal interaction -->
  <div class="card">
    <h2>Modal Test</h2>
    <button onclick="document.getElementById('modal-overlay').style.display='block'">
      Open Modal
    </button>
    <div id="modal-overlay" class="modal-overlay" role="dialog" aria-modal="true">
      <div class="modal">
        <h2>Test Modal</h2>
        <p>This modal should be detected and dismissed.</p>
        <button onclick="document.getElementById('modal-overlay').style.display='none'" aria-label="Close">Close</button>
      </div>
    </div>
  </div>

  <!-- Toggle interaction -->
  <div class="card">
    <h2>Toggle Test</h2>
    <button onclick="document.getElementById('toggle-content').classList.toggle('hidden')">
      Toggle Content
    </button>
    <div id="toggle-content" class="hidden">
      <p>This content was hidden and is now visible!</p>
    </div>
  </div>

  <!-- Form -->
  <div class="card">
    <h2>Form Test</h2>
    <form onsubmit="event.preventDefault(); document.getElementById('form-result').textContent='Submitted!'">
      <input type="text" placeholder="Your name" name="name"><br>
      <input type="email" placeholder="Email" name="email"><br>
      <textarea placeholder="Message" name="message"></textarea><br>
      <select name="option">
        <option value="" disabled selected>Choose...</option>
        <option value="a">Option A</option>
        <option value="b">Option B</option>
      </select><br>
      <button type="submit">Submit</button>
    </form>
    <p id="form-result"></p>
  </div>

  <!-- Intentional bugs for QA detection -->
  <div class="card overlap-bug">
    <h2>Bug: Overlapping Elements <span class="badge">NEW</span></h2>
    <p>The badge overlaps with the heading text.</p>
  </div>

  <div class="dark-section">
    <h2>Bug: Low Contrast Text</h2>
    <p>This text is nearly invisible because the color is too similar to the background.</p>
  </div>

  <div class="card">
    <h2>Bug: Hardcoded Korean</h2>
    <p class="i18n-bug">Last updated: 2024년 3월 15일 (should be English date)</p>
  </div>

  <div class="card">
    <p class="error-text">Error: 데이터를 불러올 수 없습니다</p>
  </div>

  <script>
    // Intentional console error
    console.error("CSP violation: Refused to load script from 'https://cdn.example.com'");
    // Intentional JS reference error
    try { undefinedFunction(); } catch(e) { console.error(e.message); }
  </script>
</body>
</html>
